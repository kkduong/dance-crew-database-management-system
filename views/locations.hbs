{{!--
  ECLIPSE Crew Management System
  Group 79 - Jenna Rivera and Kaelee Duong
  Locations Handlebars Template for CS340 Final Project

  Citations:
  - Handlebars.js documentation: https://handlebarsjs.com/guide/
  - Exploration: Web Application Technology example code was used as a reference for structuring Handlebars templates.
  - All other code was written by Group 79 members.
 --}}

<h2>Locations</h2>

{{! success message upon creating a new location !}}
{{#if createdID}}
  <div class="success-message">
    Location with ID {{createdID}} was successfully created!
  </div>
{{/if}}

{{! success message upon updating an existing location !}}
{{#if updatedID}}
  <div class="success-message">
    Location with ID {{updatedID}} was successfully updated!
  </div>
{{/if}}

{{! table displaying data from locations !}}
<table class="styled-table">
  <tr><th>Name</th><th>Address</th><th>Actions</th></tr>
  {{#each locations}}
  <tr>
    <td>{{this.name}}</td>
    <td>{{this.address}}</td>
    <td>
         <form action="/delete-location" method="POST" onsubmit="return confirm('Are you sure you want to delete this location?');">
            <input type="hidden" name="locationID" value="{{this.locationID}}">
            <button type="submit" class="btn-delete">Delete</button>
        </form>
    </td>
  </tr>
  {{/each}}
</table>


{{! add new location !}}
<div class="form-section">

<h3>Add New Location</h3>
<form id="addLocationForm" action="/add-location" method="POST">
<label for="name">Name:</label>
<input type="text" id="name" name="name" required>
<label for="address">Address:</label>
<input type="text" id="address" name="address" required>
<button id="addLocationBtn">Add Location</button>
</form>

{{! edit existing location !}}
<h3>Edit a Location</h3>
<form id="editLocationForm" action="/edit-location" method="POST">
<label for="locationID">Select Location to Edit:</label>
<select id="locationID" name="locationID" required>
  {{#each locations}}
    <option value="{{this.locationID}}">
      {{this.name}} - {{this.address}}
    </option>
  {{/each}}
</select>
<label for="newName">New Name:</label>
<input type="text" id="newName" name="newName" required>
<label for="newAddress">New Address:</label>
<input type="text" id="newAddress" name="newAddress" required>
<button id="editLocationBtn">Edit Location</button>
</form>
</div>