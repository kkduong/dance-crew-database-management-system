{{!--
  ECLIPSE Crew Management System
  Group 79 - Jenna Rivera and Kaelee Duong
  Dancer Practices Handlebars Template for CS340 Final Project

  Citations:
  - Handlebars.js documentation: https://handlebarsjs.com/guide/
  - Exploration: Web Application Technology example code was used as a reference for structuring Handlebars templates.
  - All other code was written by Group 79 members.
 --}}

<h2>Dancer's Practices</h2>

{{! success message upon adding a new dancer practice !}}
{{#if createdID}}
  <div class="success-message">
    Dancer's Practice with ID {{createdID}} was successfully created!
  </div>
{{/if}}

{{! success message upon updating an existing dancer practice !}}
{{#if updatedID}}
  <div class="success-message">
    Dancer's Practice with ID {{updatedID}} was successfully updated!
  </div>
{{/if}}

{{! table displaying data from dancerpractices !}}
<table class="styled-table">
  <tr><th>First Name</th><th>Last Name</th><th>Assigned Practice Date</th><th>Location</th><th>Mandatory?</th><th>Actions</th></tr>
  {{#each dancerpractices}}
  <tr>
    <td>{{this.firstName}}</td>
    <td>{{this.lastName}}</td>
    <td>{{this.practiceDate}}</td>
    <td>{{this.locationName}}</td>
    <td>
      {{#if this.mandatory}}
        Yes
      {{else}}
        No
      {{/if}}
    </td>
    <td>
         <form action="/delete-dancer-practice" method="POST" onsubmit="return confirm('Are you sure you want to delete this dancer practice?');">
            <input type="hidden" name="dancerPracticeID" value="{{this.dancerPracticeID}}">
            <button type="submit" class="btn-delete">Delete</button>
        </form>
    </td>
  </tr>
  {{/each}}
</table>


{{! add new dancer practice !}}
<div class="form-section">

<h3>Add New Dancer's Practice</h3>

<form id="addDancerPracticeForm" action="/add-dancer-practice" method="POST">
  <label for="dancerID">Select Dancer:</label>
  <select id="dancerID" name="dancerID" required>
    {{#each dancers}}
      <option value="{{this.dancerID}}">
        {{this.firstName}} {{this.lastName}}
      </option>
    {{/each}}
  </select>

  <label for="practiceID">Select Practice:</label>
  <select id="practiceID" name="practiceID" required>
    {{#each practices}}
      <option value="{{this.practiceID}}">
        {{this.date}} - {{this.locationName}}
      </option>
    {{/each}}
  </select>

  <label for="mandatory">Mandatory?</label>
  <select id="mandatory" name="mandatory" required>
    <option value="1">Yes</option>
    <option value="0">No</option>
  </select>

  <button type="submit" id="addDancerPracticeBtn">Add Dancer's Practice</button>
</form>


{{! edit an existing dancer practice !}}
<h3>Edit a Dancer's Practice</h3>
<form id="editDancerPracticeForm" action="/edit-dancer-practice" method="POST">
  <label for="dancerPracticeID">Select Dancer's Practice to Edit:</label>
  <select id="dancerPracticeID" name="dancerPracticeID" required>
    {{#each dancerpractices}}
      <option value="{{this.dancerPracticeID}}">
        {{this.firstName}} {{this.lastName}} - {{this.practiceDate}} - {{this.locationName}}
      </option>
    {{/each}}
  </select> 

  <label for="newMandatory">Mandatory?</label>
  <select id="newMandatory" name="newMandatory" required>
    <option value="1">Yes</option>
    <option value="0">No</option>
  </select>

  <label for="newDancer">New Dancer:</label>
  <select id="newDancer" name="newDancer" required>
    {{#each dancers}}
      <option value="{{this.dancerID}}">
        {{this.firstName}} {{this.lastName}}
      </option>
    {{/each}}
  </select>

  <label for="newPractice">New Practice:</label>
  <select id="newPractice" name="newPractice" required>
    {{#each practices}}
      <option value="{{this.practiceID}}">
        {{this.date}} - {{this.locationName}}
      </option>
    {{/each}}
  </select>

  <button id="editDancerPracticeBtn">Edit Dancer's Practice</button>
</form>

</div>

